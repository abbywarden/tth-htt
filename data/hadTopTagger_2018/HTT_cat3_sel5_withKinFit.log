('Date: ', 'Mon Sep 24 02:25:02 2018')
(0, 3)
(1, 3)
(2, 3)
(3, 3)
(4, 3)
(5, 3)
typeTop == 3 && passJetSel && m_bWj1Wj2 > 75 && m_bWj1Wj2 < 275 && m_Wj1Wj2 < 150 && bjet_tag_position <= 3 
['btagDisc_b', 'btagDisc_Wj1', 'btagDisc_Wj2', 'qg_Wj1', 'qg_Wj2', 'm_Wj1Wj2_div_m_bWj1Wj2', 'pT_Wj1Wj2', 'dR_Wj1Wj2', 'm_bWj1Wj2', 'dR_bW', 'm_bWj1', 'm_bWj2', 'mass_Wj1', 'pT_Wj2', 'mass_Wj2', 'pT_b', 'mass_b', 'kinFit_pT_b_o_pT_b', 'kinFit_pT_Wj2_o_pT_Wj2', 'nllKinFit']
('Date: ', 'Mon Sep 24 02:36:56 2018')
data loaded
('Date: ', 'Mon Sep 24 02:37:15 2018')
('nev sig', 943794, ' nev total ', 1915437)
('len sig/BKG : ', 1103384, 35628824)
(5, 'Doing more branches: ', 'Mon Sep 24 02:37:27 2018')
(5, 'read one file: ', '/hdfs/local/acaan/ttHAnalysis/2017/HTT_wBoost_2018Sep13/histograms/hadTopTagger/TTZJets_LO/TTZJets_LO_1.root')
(5, 'Throw away BKG: ', 'Mon Sep 24 02:37:27 2018')
0.96
Mon Sep 24 02:37:27 2018
(5, 'len sig/BKG after reduction: ', 1103384, 1425153)
['btagDisc_b', 'btagDisc_Wj1', 'btagDisc_Wj2', 'qg_Wj1', 'qg_Wj2', 'm_Wj1Wj2_div_m_bWj1Wj2', 'pT_Wj1Wj2', 'dR_Wj1Wj2', 'm_bWj1Wj2', 'dR_bW', 'm_bWj1', 'm_bWj2', 'mass_Wj1', 'pT_Wj2', 'mass_Wj2', 'pT_b', 'mass_b', 'kinFit_pT_b_o_pT_b', 'kinFit_pT_Wj2_o_pT_Wj2', 'nllKinFit']
('Date: ', 'Mon Sep 24 02:53:21 2018')
data loaded
('Date: ', 'Mon Sep 24 02:53:46 2018')
('nev sig', 989564, ' nev total ', 1994173)
('len sig/BKG : ', 1173002, 49489286)
(5, 'Doing more branches: ', 'Mon Sep 24 02:54:08 2018')
(5, 'read one file: ', '/hdfs/local/acaan/ttHAnalysis/2017/HTT_wBoost_2018Sep13/histograms/hadTopTagger/ttHToNonbb_M125_powheg/ttHToNonbb_M125_powheg_1.root')
(5, 'Throw away BKG: ', 'Mon Sep 24 02:54:09 2018')
0.96
Mon Sep 24 02:54:09 2018
(5, 'len sig/BKG after reduction: ', 1173002, 1979572)
['btagDisc_b', 'btagDisc_Wj1', 'btagDisc_Wj2', 'qg_Wj1', 'qg_Wj2', 'm_Wj1Wj2_div_m_bWj1Wj2', 'pT_Wj1Wj2', 'dR_Wj1Wj2', 'm_bWj1Wj2', 'dR_bW', 'm_bWj1', 'm_bWj2', 'mass_Wj1', 'pT_Wj2', 'mass_Wj2', 'pT_b', 'mass_b', 'kinFit_pT_b_o_pT_b', 'kinFit_pT_Wj2_o_pT_Wj2', 'nllKinFit']
('Date: ', 'Mon Sep 24 03:06:50 2018')
data loaded
('Date: ', 'Mon Sep 24 03:07:11 2018')
('nev sig', 1484636, ' nev total ', 2436852)
('len sig/BKG : ', 1841648, 38157541)
(5, 'Doing more branches: ', 'Mon Sep 24 03:07:28 2018')
(5, 'read one file: ', '/hdfs/local/acaan/ttHAnalysis/2017/HTT_wBoost_2018Sep13/histograms/hadTopTagger/TTToHadronic/TTToHadronic_5.root')
(5, 'Throw away BKG: ', 'Mon Sep 24 03:07:28 2018')
0.96
Mon Sep 24 03:07:28 2018
(5, 'len sig/BKG after reduction: ', 1841648, 1526302)
('Date: ', 'Mon Sep 24 03:08:22 2018')
Total
('total_evt', 6346462)
('total_sig_evt', 3417994)
('total_bkg_entries', 123275651)
('total_sig_entries', 4118034)
('total_bkg_entries_reduced', 4931027)
length of sig, bkg without NaN:  1526302 1841648
('Date: ', 'Mon Sep 24 03:08:23 2018', 'balance datasets')
('sum weights sig/BKG', 500000.00001372764, 499999.9999802553)
('len sig (gen pt > 200)', 124186)
('len sig/BKG (fattag)', 0, 3367950)
('len sig/BKG (target)', 1841648, 1526302)
('sum weights sig/BKG', 500000.00001372764, 499999.9999802553)
('HadTopTagger_2017_boosted_final/cat_3_nvar_20_ak12_signal_corr_sel_5.pdf', 'saved')
('HadTopTagger_2017_boosted_final/cat_3_nvar_20_ak12_BKG_corr_sel_5.pdf', 'saved')
['btagDisc_b', 'btagDisc_Wj1', 'btagDisc_Wj2', 'qg_Wj1', 'qg_Wj2', 'm_Wj1Wj2_div_m_bWj1Wj2', 'pT_Wj1Wj2', 'dR_Wj1Wj2', 'm_bWj1Wj2', 'dR_bW', 'm_bWj1', 'm_bWj2', 'mass_Wj1', 'pT_Wj2', 'mass_Wj2', 'pT_b', 'mass_b', 'kinFit_pT_b_o_pT_b', 'kinFit_pT_Wj2_o_pT_Wj2', 'nllKinFit']
('opt being saved on ', 'HadTopTagger_2017_boosted_final/btagSort3rd_ntrees_2500_deph_5_lr_0o03_20_sel_5_cat_3_roc.log')
['btagDisc_b', 'btagDisc_Wj1', 'btagDisc_Wj2', 'qg_Wj1', 'qg_Wj2', 'm_Wj1Wj2_div_m_bWj1Wj2', 'pT_Wj1Wj2', 'dR_Wj1Wj2', 'm_bWj1Wj2', 'dR_bW', 'm_bWj1', 'm_bWj2', 'mass_Wj1', 'pT_Wj2', 'mass_Wj2', 'pT_b', 'mass_b', 'kinFit_pT_b_o_pT_b', 'kinFit_pT_Wj2_o_pT_Wj2', 'nllKinFit']
XGBoost trained
[[  2.96386719e-01   1.01684570e-01   2.89306641e-02 ...,   6.24311507e-01
    9.37294841e-01   6.43391323e+00]
 [  9.99023438e-01   9.30023193e-03   8.99658203e-02 ...,   1.16888845e+00
    1.22653806e+00   4.56756383e-01]
 [  9.91210938e-01   1.57928467e-02   2.57720947e-02 ...,   3.60269904e-01
    6.13435411e+00   2.92889977e+01]
 ..., 
 [  1.35009766e-01   6.45141602e-02   6.28051758e-02 ...,   1.33373857e+00
    1.13589418e+00   2.12323189e-01]
 [  6.98242188e-01   8.81958008e-02   2.95410156e-02 ...,   1.05634737e+00
    1.06310868e+00   4.98912260e-02]
 [  4.28466797e-01   3.88916016e-01   6.26220703e-02 ...,   1.25125217e+00
    6.29900038e-01   8.76305103e+00]]
XGBoost train set auc - 0.916316577598
XGBoost test set auc - 0.914189274145
nvar = 20
('Date: ', 'Mon Sep 24 04:01:52 2018')
('Output pkl ', 'Mon Sep 24 04:01:52 2018')
saved HadTopTagger_2017_boosted_final/HTT_HadTopTagger_2017_boosted_final_XGB_ntrees_2500_deph_5_lr_0o03_btagSort3rd_nvar20_cat_3_withKinFit.pkl
starting xml conversion
(6, 3)
