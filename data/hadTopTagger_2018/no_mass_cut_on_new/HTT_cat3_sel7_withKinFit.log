('Date: ', 'Thu Sep 27 05:19:51 2018')
(0, 3)
(1, 3)
(2, 3)
(3, 3)
(4, 3)
(5, 3)
(6, 3)
(7, 3)
typeTop == 3 && passJetSel && bjet_tag_position <= 3
['btagDisc_b', 'btagDisc_Wj1', 'btagDisc_Wj2', 'qg_Wj1', 'qg_Wj2', 'm_Wj1Wj2_div_m_bWj1Wj2', 'pT_Wj1Wj2', 'dR_Wj1Wj2', 'm_bWj1Wj2', 'dR_bW', 'm_bWj1', 'm_bWj2', 'mass_Wj1', 'pT_Wj2', 'mass_Wj2', 'pT_b', 'mass_b', 'kinFit_pT_b_o_pT_b', 'kinFit_pT_Wj2_o_pT_Wj2', 'nllKinFit']
('Date: ', 'Thu Sep 27 05:32:20 2018')
data loaded
('Date: ', 'Thu Sep 27 05:32:59 2018')
('nev sig', 1001807, ' nev total ', 2001316)
('len sig/BKG : ', 1190393, 72498464)
(7, 'Doing more branches: ', 'Thu Sep 27 05:33:29 2018')
(7, 'read one file: ', '/hdfs/local/acaan/ttHAnalysis/2017/HTT_wBoost_2018Sep13/histograms/hadTopTagger/TTZJets_LO/TTZJets_LO_1.root')
(7, 'Throw away BKG: ', 'Thu Sep 27 05:33:29 2018')
0.96
Thu Sep 27 05:33:29 2018
(7, 'len sig/BKG after reduction: ', 1190393, 2899939)
['btagDisc_b', 'btagDisc_Wj1', 'btagDisc_Wj2', 'qg_Wj1', 'qg_Wj2', 'm_Wj1Wj2_div_m_bWj1Wj2', 'pT_Wj1Wj2', 'dR_Wj1Wj2', 'm_bWj1Wj2', 'dR_bW', 'm_bWj1', 'm_bWj2', 'mass_Wj1', 'pT_Wj2', 'mass_Wj2', 'pT_b', 'mass_b', 'kinFit_pT_b_o_pT_b', 'kinFit_pT_Wj2_o_pT_Wj2', 'nllKinFit']
('Date: ', 'Thu Sep 27 05:51:04 2018')
data loaded
('Date: ', 'Thu Sep 27 05:52:00 2018')
('nev sig', 1061993, ' nev total ', 2040224)
('len sig/BKG : ', 1285284, 95145033)
(7, 'Doing more branches: ', 'Thu Sep 27 05:52:42 2018')
(7, 'read one file: ', '/hdfs/local/acaan/ttHAnalysis/2017/HTT_wBoost_2018Sep13/histograms/hadTopTagger/ttHToNonbb_M125_powheg/ttHToNonbb_M125_powheg_1.root')
(7, 'Throw away BKG: ', 'Thu Sep 27 05:52:42 2018')
0.96
Thu Sep 27 05:52:42 2018
(7, 'len sig/BKG after reduction: ', 1285284, 3805802)
['btagDisc_b', 'btagDisc_Wj1', 'btagDisc_Wj2', 'qg_Wj1', 'qg_Wj2', 'm_Wj1Wj2_div_m_bWj1Wj2', 'pT_Wj1Wj2', 'dR_Wj1Wj2', 'm_bWj1Wj2', 'dR_bW', 'm_bWj1', 'm_bWj2', 'mass_Wj1', 'pT_Wj2', 'mass_Wj2', 'pT_b', 'mass_b', 'kinFit_pT_b_o_pT_b', 'kinFit_pT_Wj2_o_pT_Wj2', 'nllKinFit']
('Date: ', 'Thu Sep 27 06:06:47 2018')
data loaded
('Date: ', 'Thu Sep 27 06:07:26 2018')
('nev sig', 1538438, ' nev total ', 2547540)
('len sig/BKG : ', 1936363, 66487367)
(7, 'Doing more branches: ', 'Thu Sep 27 06:07:58 2018')
(7, 'read one file: ', '/hdfs/local/acaan/ttHAnalysis/2017/HTT_wBoost_2018Sep13/histograms/hadTopTagger/TTToHadronic/TTToHadronic_5.root')
(7, 'Throw away BKG: ', 'Thu Sep 27 06:07:58 2018')
0.96
Thu Sep 27 06:07:58 2018
(7, 'len sig/BKG after reduction: ', 1936363, 2659495)
('Date: ', 'Thu Sep 27 06:09:47 2018')
Total
('total_evt', 6589080)
('total_sig_evt', 3602238)
('total_bkg_entries', 234130864)
('total_sig_entries', 4412040)
('total_bkg_entries_reduced', 9365236)
length of sig, bkg without NaN:  2659495 1936363
('Date: ', 'Thu Sep 27 06:09:48 2018', 'balance datasets')
('sum weights sig/BKG', 500000.0000119695, 499999.99997719383)
('len sig (gen pt > 200)', 129922)
('len sig/BKG (fattag)', 0, 4595858)
('len sig/BKG (target)', 1936363, 2659495)
('sum weights sig/BKG', 500000.0000119695, 499999.99997719383)
('HadTopTagger_2017_final_nomasscut/cat_3_nvar_20_ak12_signal_corr_sel_7.pdf', 'saved')
('HadTopTagger_2017_final_nomasscut/cat_3_nvar_20_ak12_BKG_corr_sel_7.pdf', 'saved')
['btagDisc_b', 'btagDisc_Wj1', 'btagDisc_Wj2', 'qg_Wj1', 'qg_Wj2', 'm_Wj1Wj2_div_m_bWj1Wj2', 'pT_Wj1Wj2', 'dR_Wj1Wj2', 'm_bWj1Wj2', 'dR_bW', 'm_bWj1', 'm_bWj2', 'mass_Wj1', 'pT_Wj2', 'mass_Wj2', 'pT_b', 'mass_b', 'kinFit_pT_b_o_pT_b', 'kinFit_pT_Wj2_o_pT_Wj2', 'nllKinFit']
('opt being saved on ', 'HadTopTagger_2017_final_nomasscut/btagSort3rd_ntrees_2500_deph_5_lr_0o03_20_sel_7_cat_3_roc.log')
['btagDisc_b', 'btagDisc_Wj1', 'btagDisc_Wj2', 'qg_Wj1', 'qg_Wj2', 'm_Wj1Wj2_div_m_bWj1Wj2', 'pT_Wj1Wj2', 'dR_Wj1Wj2', 'm_bWj1Wj2', 'dR_bW', 'm_bWj1', 'm_bWj2', 'mass_Wj1', 'pT_Wj2', 'mass_Wj2', 'pT_b', 'mass_b', 'kinFit_pT_b_o_pT_b', 'kinFit_pT_Wj2_o_pT_Wj2', 'nllKinFit']
XGBoost trained
[[  0.78125      0.08691406   0.04464722 ...,   0.74375427   3.89146829
    8.57966423]
 [  0.99853516   0.04354858   0.11547852 ...,   1.7072475    1.18974411
    4.05758667]
 [  0.98779297   0.97460938   0.07348633 ...,   0.42433178   0.52691007
   18.90810204]
 ..., 
 [  0.99902344   0.03295898   0.06542969 ...,   0.92364889   1.13672829
    0.59442741]
 [  0.98339844   0.91601562   0.0647583  ...,   1.18287277   0.89015985
    0.70375943]
 [  0.52050781   0.11791992   0.02462769 ...,   0.74228472   1.92731833
    4.62913418]]
XGBoost train set auc - 0.937751127829
XGBoost test set auc - 0.935976013797
nvar = 20
('Date: ', 'Thu Sep 27 07:52:18 2018')
('Output pkl ', 'Thu Sep 27 07:52:18 2018')
saved HadTopTagger_2017_final_nomasscut/HTT_HadTopTagger_2017_final_nomasscut_XGB_ntrees_2500_deph_5_lr_0o03_btagSort3rd_nvar20_cat_3_withKinFit.pkl
starting xml conversion
(8, 3)
