('Date: ', 'Thu Sep 27 05:21:42 2018')
(0, 3)
(1, 3)
(2, 3)
(3, 3)
(4, 3)
(5, 3)
(6, 3)
(7, 3)
(8, 3)
(9, 3)
typeTop == 3 && passJetSel && bjet_tag_position <= 4
['btagDisc_b', 'btagDisc_Wj1', 'btagDisc_Wj2', 'qg_Wj1', 'qg_Wj2', 'm_Wj1Wj2_div_m_bWj1Wj2', 'pT_Wj1Wj2', 'dR_Wj1Wj2', 'm_bWj1Wj2', 'dR_bW', 'm_bWj1', 'm_bWj2', 'mass_Wj1', 'pT_Wj2', 'mass_Wj2', 'pT_b', 'mass_b']
('Date: ', 'Thu Sep 27 05:32:20 2018')
data loaded
('Date: ', 'Thu Sep 27 05:33:08 2018')
('nev sig', 1037344, ' nev total ', 2001316)
('len sig/BKG : ', 1246969, 96932634)
(9, 'Doing more branches: ', 'Thu Sep 27 05:33:47 2018')
(9, 'read one file: ', '/hdfs/local/acaan/ttHAnalysis/2017/HTT_wBoost_2018Sep13/histograms/hadTopTagger/TTZJets_LO/TTZJets_LO_1.root')
(9, 'Throw away BKG: ', 'Thu Sep 27 05:33:47 2018')
0.96
Thu Sep 27 05:33:47 2018
(9, 'len sig/BKG after reduction: ', 1246969, 3877306)
['btagDisc_b', 'btagDisc_Wj1', 'btagDisc_Wj2', 'qg_Wj1', 'qg_Wj2', 'm_Wj1Wj2_div_m_bWj1Wj2', 'pT_Wj1Wj2', 'dR_Wj1Wj2', 'm_bWj1Wj2', 'dR_bW', 'm_bWj1', 'm_bWj2', 'mass_Wj1', 'pT_Wj2', 'mass_Wj2', 'pT_b', 'mass_b']
('Date: ', 'Thu Sep 27 05:51:04 2018')
data loaded
('Date: ', 'Thu Sep 27 05:52:16 2018')
('nev sig', 1094324, ' nev total ', 2040224)
('len sig/BKG : ', 1338495, 127199868)
(9, 'Doing more branches: ', 'Thu Sep 27 05:53:10 2018')
(9, 'read one file: ', '/hdfs/local/acaan/ttHAnalysis/2017/HTT_wBoost_2018Sep13/histograms/hadTopTagger/ttHToNonbb_M125_powheg/ttHToNonbb_M125_powheg_1.root')
(9, 'Throw away BKG: ', 'Thu Sep 27 05:53:11 2018')
0.96
Thu Sep 27 05:53:11 2018
(9, 'len sig/BKG after reduction: ', 1338495, 5087995)
['btagDisc_b', 'btagDisc_Wj1', 'btagDisc_Wj2', 'qg_Wj1', 'qg_Wj2', 'm_Wj1Wj2_div_m_bWj1Wj2', 'pT_Wj1Wj2', 'dR_Wj1Wj2', 'm_bWj1Wj2', 'dR_bW', 'm_bWj1', 'm_bWj2', 'mass_Wj1', 'pT_Wj2', 'mass_Wj2', 'pT_b', 'mass_b']
('Date: ', 'Thu Sep 27 06:06:47 2018')
data loaded
('Date: ', 'Thu Sep 27 06:07:37 2018')
('nev sig', 1571144, ' nev total ', 2547540)
('len sig/BKG : ', 2001338, 89051569)
(9, 'Doing more branches: ', 'Thu Sep 27 06:08:19 2018')
(9, 'read one file: ', '/hdfs/local/acaan/ttHAnalysis/2017/HTT_wBoost_2018Sep13/histograms/hadTopTagger/TTToHadronic/TTToHadronic_5.root')
(9, 'Throw away BKG: ', 'Thu Sep 27 06:08:20 2018')
0.96
Thu Sep 27 06:08:20 2018
(9, 'len sig/BKG after reduction: ', 2001338, 3562063)
('Date: ', 'Thu Sep 27 06:10:36 2018')
Total
('total_evt', 6589080)
('total_sig_evt', 3702812)
('total_bkg_entries', 313184071)
('total_sig_entries', 4586802)
('total_bkg_entries_reduced', 12527364)
length of sig, bkg without NaN:  3562063 2001338
('Date: ', 'Thu Sep 27 06:10:38 2018', 'balance datasets')
('sum weights sig/BKG', 500000.00001122133, 499999.99997237505)
('len sig (gen pt > 200)', 135201)
('len sig/BKG (fattag)', 0, 5563401)
('len sig/BKG (target)', 2001338, 3562063)
('sum weights sig/BKG', 500000.00001122133, 499999.99997237505)
('HadTopTagger_2017_final_nomasscut/cat_3_nvar_17_ak12_signal_corr_sel_9.pdf', 'saved')
('HadTopTagger_2017_final_nomasscut/cat_3_nvar_17_ak12_BKG_corr_sel_9.pdf', 'saved')
['btagDisc_b', 'btagDisc_Wj1', 'btagDisc_Wj2', 'qg_Wj1', 'qg_Wj2', 'm_Wj1Wj2_div_m_bWj1Wj2', 'pT_Wj1Wj2', 'dR_Wj1Wj2', 'm_bWj1Wj2', 'dR_bW', 'm_bWj1', 'm_bWj2', 'mass_Wj1', 'pT_Wj2', 'mass_Wj2', 'pT_b', 'mass_b']
('opt being saved on ', 'HadTopTagger_2017_final_nomasscut/btagSort3rd_ntrees_2500_deph_5_lr_0o03_17_sel_9_cat_3_roc.log')
['btagDisc_b', 'btagDisc_Wj1', 'btagDisc_Wj2', 'qg_Wj1', 'qg_Wj2', 'm_Wj1Wj2_div_m_bWj1Wj2', 'pT_Wj1Wj2', 'dR_Wj1Wj2', 'm_bWj1Wj2', 'dR_bW', 'm_bWj1', 'm_bWj2', 'mass_Wj1', 'pT_Wj2', 'mass_Wj2', 'pT_b', 'mass_b']
XGBoost trained
[[  9.79980469e-01   2.52380371e-02   1.38671875e-01 ...,   1.36451654e+01
    4.40229530e+01   1.35750332e+01]
 [  8.38623047e-02   1.78985596e-02   3.90625000e-02 ...,   2.05008583e+01
    6.86447678e+01   1.58359413e+01]
 [  3.03955078e-01   4.67773438e-01   2.08129883e-01 ...,   9.42820358e+00
    3.13705616e+01   1.06157951e+01]
 ..., 
 [  1.60034180e-01   8.61816406e-01   3.10974121e-02 ...,   6.72283649e+00
    2.17032043e+02   2.24900227e+01]
 [  2.34497070e-01   6.76269531e-01   4.86816406e-01 ...,   3.60217214e+00
    5.14617844e+01   6.73873806e+00]
 [  9.96093750e-01   1.41479492e-01   1.90582275e-02 ...,   5.05935431e+00
    5.46675339e+01   8.19623184e+00]]
XGBoost train set auc - 0.945228464657
XGBoost test set auc - 0.94382160455
nvar = 17
('Date: ', 'Thu Sep 27 08:02:22 2018')
('Output pkl ', 'Thu Sep 27 08:02:22 2018')
saved HadTopTagger_2017_final_nomasscut/HTT_HadTopTagger_2017_final_nomasscut_XGB_ntrees_2500_deph_5_lr_0o03_btagSort3rd_nvar17_cat_3.pkl
starting xml conversion
